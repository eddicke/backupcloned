<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>chat room</title>
  </head>
  <body onload="setup();">
    <div class="container">
      <br />
      <h2>socket.io chat room</h2>
      <hr />
      <div id="chatContent"></div>
      <hr />
      <input id="messageInput" type="text"></input>
      <button onclick="send();">Send</button>
      <script src="client.js"></script>
      <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
   <script>
     var socket;
      var usr = 0
var username = window.prompt('Enter a username:', '');

function setup() {
  socket = io();
 
  var msgs = []
socket.on('connect', function() {
 
socket.emit("ademola", usr)
  socket.on("ademola", function(gme){
     usr++
   
  console.log(usr);
    msgs.push(document.getElementById('messageInput').value)
   var p = String(msgs)
   console.log(p)
     if(usr == 1){
     console.log(p)
    }
  })
})
  socket.on('chat', function(message, author) {
    var format = 'i';
    if(author == username) format = 'b';
    document.getElementById('chatContent').innerHTML += '<p><' + format + '>' + author + '</' + format + '> | ' + message + '</p>';
  });
}

function send() {
  socket.emit('chat', document.getElementById('messageInput').value, username);
  document.getElementById('messageInput').value = '';
}


    </script>
    </div>
  </body>
</html>
